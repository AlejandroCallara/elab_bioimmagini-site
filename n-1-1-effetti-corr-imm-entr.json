{"version":3,"kind":"Notebook","sha256":"a26958ac00358181a6e0c2d50cbe8a5bddb2c5693b8473cb71f19cfafe4e046a","slug":"n-1-1-effetti-corr-imm-entr","location":"/capitolo1/n_1_1_effetti_corr_imm_entr.ipynb","dependencies":[],"frontmatter":{"title":"Esempio degli effetti di corruzione dell’immagine - Notebook 1.1","content_includes_title":false,"kernelspec":{"name":"python3","display_name":".venv (3.12.9)","language":"python"},"numbering":{"title":{"offset":1}},"exports":[{"format":"ipynb","filename":"n_1_1_effetti_corr_imm_entr.ipynb","url":"/elab_bioimmagini-site/build/n_1_1_effetti_corr_i-9fb418989a7bed020d69b19567f73431.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Import delle librerie necessarie per la simulazione","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HfynAK3LSl"}],"key":"bJO5Jg3PT7"}],"key":"tviOiujzcJ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import numpy as np\nimport matplotlib.pyplot as plt\nfrom scipy.ndimage import convolve\nfrom scipy.signal.windows import gaussian","key":"O7nGxh43C2"},{"type":"outputs","id":"CupX_APVZXmOCAFBkuY_b","children":[],"key":"qzUJ1MS0Ri"}],"key":"JnWvzgpMng"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Creo il fantoccio sul quale simulare gli effetti di PVE, attenuazione e rumore\ndim = 512\nimage = np.zeros((dim, dim), dtype=np.float32)\n\nimage[:, :] = 50\nimage[49:100, 49:100] = 120\nimage[100:180, 100:450] = 200\nimage[199:500, 199:350] = 90\nimage[229:270, 229:270] = 250\nimage[4:400, 449:500] = 150","key":"B5TvOT4Hr8"},{"type":"outputs","id":"iK5QiG16yw4M_3njGzOa6","children":[],"key":"Q6HPChdBI8"}],"key":"kyvL2zxknw"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualizzazione + istogramma","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Vh5oaWKSjp"}],"key":"a6p13rvp2M"}],"key":"m3bXPy01on"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(1, 2, figsize=(9, 4))\n\nax[0].imshow(image, cmap=\"gray\")\nax[0].set_title(\"Immagine ideale\")\nax[0].axis(\"off\")\n\nax[1].hist(image.ravel(), bins=50)\nax[1].set_title(\"Istogramma\")\n\nplt.show()","key":"n9oVTth7nc"},{"type":"outputs","id":"dqHKJlceun_fGiFnhiI8Q","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"47a7574c9eeee23c0a9a1abdc74cdbb9","path":"/elab_bioimmagini-site/build/47a7574c9eeee23c0a9a1abdc74cdbb9.png"},"text/plain":{"content":"<Figure size 900x400 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"Vww4huwa7r"}],"key":"a8rVAVR9EK"}],"key":"YTul4JTfEE"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Effetto PVE","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YwSY7a0K7D"}],"key":"DCTkBeS7u3"}],"key":"NWmyHuQjUu"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# filtro convolutivo gaussiano per simulare l'effetto PVE\nksize = 11\nsigma = 5\n\ng1d = gaussian(ksize, sigma)\nh = np.outer(g1d, g1d)\nh /= h.sum()\n\nimage_pve = convolve(image, h, mode=\"reflect\")\n\n# visualizzazione\nfig, ax = plt.subplots(1, 2, figsize=(9, 4))\n\nax[0].imshow(image_pve, cmap=\"gray\")\nax[0].set_title(\"Immagine con PVE\")\nax[0].axis(\"off\")\n\nax[1].hist(image_pve.ravel(), bins=50)\nax[1].set_title(\"Istogramma\")\n\nplt.show()","key":"RuGBFVCyTF"},{"type":"outputs","id":"6F5r9EWLfXPTqAwSH8dGB","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"e2f540d1680a36cab14973497a4501fe","path":"/elab_bioimmagini-site/build/e2f540d1680a36cab14973497a4501fe.png"},"text/plain":{"content":"<Figure size 900x400 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"ZTWeg7q1Sg"}],"key":"RJgj4sW8LG"}],"key":"agF7LEUBCI"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Effetto attenuazione (campo parabolico)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EuX1btcsvE"}],"key":"NLH311rgAa"}],"key":"uJpsffE2eb"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# simulazione dell'effetto di attenuazione\nx, y = np.meshgrid(np.arange(dim), np.arange(dim))\nxc = dim / 2\nyc = dim / 2\n\nsigma_att = dim / 2\nattenuation_field = 1 - ((x - xc)**2) / (2 * sigma_att**2)\nattenuation_field = np.maximum(attenuation_field, 0)\n\nimage_att = image_pve * attenuation_field\n\n# visualizzazione\nfig, ax = plt.subplots(1, 2, figsize=(9, 4))\n\nax[0].imshow(image_att, cmap=\"gray\")\nax[0].set_title(\"Immagine attenuata\")\nax[0].axis(\"off\")\n\nax[1].hist(image_att.ravel(), bins=50)\nax[1].set_title(\"Istogramma\")\n\nplt.show()\n","key":"SocDkptTNq"},{"type":"outputs","id":"MSah6bz8EawnFc2any1tJ","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"4ba51217e26d2e9b35f2d69d5775aa3a","path":"/elab_bioimmagini-site/build/4ba51217e26d2e9b35f2d69d5775aa3a.png"},"text/plain":{"content":"<Figure size 900x400 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"ebS9RoTtpc"}],"key":"HoMzeESHhX"}],"key":"lCKAQrf3Hk"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Rumore additivo Gaussiano","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dusVEwvjCx"}],"key":"ucFboiX11J"}],"key":"xbOgmjKhQR"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# simulazione del rumore\nnp.random.seed(0)  # riproducibilità (opzionale)\nimage_final = image_att + 5 * np.random.randn(dim, dim)\n\n# visualizzazione\nfig, ax = plt.subplots(1, 2, figsize=(9, 4))\n\nax[0].imshow(image_final, cmap=\"gray\")\nax[0].set_title(\"Immagine finale (rumore)\")\nax[0].axis(\"off\")\n\nax[1].hist(image_final.ravel(), bins=50)\nax[1].set_title(\"Istogramma\")\n\nplt.show()\n","key":"yebCcG1mwp"},{"type":"outputs","id":"9ZH2d_dlPWlaMBGjOZtht","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"40d24589361b0f9e6d3d50f59b85dd80","path":"/elab_bioimmagini-site/build/40d24589361b0f9e6d3d50f59b85dd80.png"},"text/plain":{"content":"<Figure size 900x400 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"FGHjGchLKF"}],"key":"Eu8y9ULtoc"}],"key":"qfChepefuh"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Immagine differenza","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LvskmIPzib"}],"key":"rVhEUHzCFM"}],"key":"Dc48XIWFbL"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"dif = image - image_final\n\nfig, ax = plt.subplots(1, 2, figsize=(9, 4))\n\nax[0].imshow(dif, cmap=\"gray\")\nax[0].set_title(\"Immagine differenza\")\nax[0].axis(\"off\")\n\nax[1].hist(dif.ravel(), bins=50)\nax[1].set_title(\"Istogramma\")\n\nplt.show()\n","key":"mXIhlK4l1W"},{"type":"outputs","id":"-sLEo9zMG3BnjOMcrPe7B","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"8cb19ceed195eb356494de0c81281a85","path":"/elab_bioimmagini-site/build/8cb19ceed195eb356494de0c81281a85.png"},"text/plain":{"content":"<Figure size 900x400 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"eFWCQZPV6A"}],"key":"lpFt93XBKv"}],"key":"Bp1U5lWnGw"}],"key":"RnJ6iVnU7N"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Capitolo 1: Modello dell’immagine biomedica e misure di qualità","url":"/c11-imm-biom","group":"Capitolo1"},"next":{"title":"Stima dell’entropia per diversi tipi di istogramma - Notebook 1.2","url":"/n-1-2-entropia","group":"Capitolo1"}}},"domain":"http://localhost:3000"}